[{"/Users/vasile.moca/Downloads/udacity/aws development/serverless-favorite-books/client/src/index.tsx":"1","/Users/vasile.moca/Downloads/udacity/aws development/serverless-favorite-books/client/src/serviceWorker.ts":"2","/Users/vasile.moca/Downloads/udacity/aws development/serverless-favorite-books/client/src/routing.tsx":"3","/Users/vasile.moca/Downloads/udacity/aws development/serverless-favorite-books/client/src/auth/Auth.js":"4","/Users/vasile.moca/Downloads/udacity/aws development/serverless-favorite-books/client/src/App.tsx":"5","/Users/vasile.moca/Downloads/udacity/aws development/serverless-favorite-books/client/src/components/Callback.tsx":"6","/Users/vasile.moca/Downloads/udacity/aws development/serverless-favorite-books/client/src/config.ts":"7","/Users/vasile.moca/Downloads/udacity/aws development/serverless-favorite-books/client/src/components/EditBook.tsx":"8","/Users/vasile.moca/Downloads/udacity/aws development/serverless-favorite-books/client/src/components/LogIn.tsx":"9","/Users/vasile.moca/Downloads/udacity/aws development/serverless-favorite-books/client/src/components/Books.tsx":"10","/Users/vasile.moca/Downloads/udacity/aws development/serverless-favorite-books/client/src/components/NotFound.tsx":"11","/Users/vasile.moca/Downloads/udacity/aws development/serverless-favorite-books/client/src/api/books-api.ts":"12"},{"size":518,"mtime":1611182123000,"results":"13","hashOfConfig":"14"},{"size":5201,"mtime":1611182123000,"results":"15","hashOfConfig":"14"},{"size":888,"mtime":1611182123000,"results":"16","hashOfConfig":"14"},{"size":2768,"mtime":1611182123000,"results":"17","hashOfConfig":"14"},{"size":2472,"mtime":1612166749093,"results":"18","hashOfConfig":"14"},{"size":211,"mtime":1611182123000,"results":"19","hashOfConfig":"14"},{"size":330,"mtime":1612202739001,"results":"20","hashOfConfig":"14"},{"size":2382,"mtime":1612166926139,"results":"21","hashOfConfig":"14"},{"size":493,"mtime":1611182123000,"results":"22","hashOfConfig":"14"},{"size":6131,"mtime":1612199602724,"results":"23","hashOfConfig":"14"},{"size":221,"mtime":1611182123000,"results":"24","hashOfConfig":"14"},{"size":1936,"mtime":1612166912957,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"29"},"u6ga47",{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"29"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},"/Users/vasile.moca/Downloads/udacity/aws development/serverless-favorite-books/client/src/index.tsx",["55"],"import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport * as serviceWorker from './serviceWorker'\nimport 'semantic-ui-css/semantic.min.css'\nimport { makeAuthRouting } from './routing';\n\nReactDOM.render(makeAuthRouting(), document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n",["56","57"],"/Users/vasile.moca/Downloads/udacity/aws development/serverless-favorite-books/client/src/serviceWorker.ts",[],"/Users/vasile.moca/Downloads/udacity/aws development/serverless-favorite-books/client/src/routing.tsx",[],"/Users/vasile.moca/Downloads/udacity/aws development/serverless-favorite-books/client/src/auth/Auth.js",[],["58","59"],"/Users/vasile.moca/Downloads/udacity/aws development/serverless-favorite-books/client/src/App.tsx",[],"/Users/vasile.moca/Downloads/udacity/aws development/serverless-favorite-books/client/src/components/Callback.tsx",[],"/Users/vasile.moca/Downloads/udacity/aws development/serverless-favorite-books/client/src/config.ts",[],"/Users/vasile.moca/Downloads/udacity/aws development/serverless-favorite-books/client/src/components/EditBook.tsx",[],"/Users/vasile.moca/Downloads/udacity/aws development/serverless-favorite-books/client/src/components/LogIn.tsx",[],"/Users/vasile.moca/Downloads/udacity/aws development/serverless-favorite-books/client/src/components/Books.tsx",["60","61"],"import dateFormat from 'dateformat'\nimport { History } from 'history'\nimport update from 'immutability-helper'\nimport * as React from 'react'\nimport {\n  Button,\n  Checkbox,\n  Divider,\n  Grid,\n  Header,\n  Icon,\n  Input,\n  Image,\n  Loader\n} from 'semantic-ui-react'\n\nimport { createBook, deleteBook, getBooks, patchBook } from '../api/books-api'\nimport Auth from '../auth/Auth'\nimport { Book } from '../types/Book'\n\ninterface BooksProps {\n  auth: Auth\n  history: History\n}\n\ninterface BooksState {\n  books: Book[]\n  newBookName: string\n  newBookAuthor: string\n  newBookReviewUrl: string\n  loadingbooks: boolean\n}\n\nexport class Books extends React.PureComponent<BooksProps, BooksState> {\n  state: BooksState = {\n    books: [],\n    newBookName: '',\n    newBookAuthor: '',\n    newBookReviewUrl: '',\n    loadingbooks: true\n  }\n\n  handleNameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ newBookName: event.target.value })\n  }\n\n  handleAuthorChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ newBookAuthor: event.target.value })\n  }\n\n  handleReviewUrlChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ newBookReviewUrl: event.target.value })\n  }\n\n  onEditButtonClick = (bookId: string) => {\n    this.props.history.push(`/books/${bookId}/edit`)\n  }\n\n  onBookCreate = async (event: React.ChangeEvent<HTMLButtonElement>) => {\n    try {\n      const newBook = await createBook(this.props.auth.getIdToken(), {\n        name: this.state.newBookName,\n        author: this.state.newBookAuthor,\n        reviewUrl: this.state.newBookReviewUrl,\n      })\n      this.setState({\n        books: [...this.state.books, newBook],\n        newBookName: '',\n        newBookAuthor: '',\n        newBookReviewUrl: ''\n      })\n    } catch {\n      alert('book creation failed')\n    }\n  }\n\n  onBookDelete = async (bookId: string) => {\n    try {\n      await deleteBook(this.props.auth.getIdToken(), bookId)\n      this.setState({\n        books: this.state.books.filter(book => book.bookId != bookId)\n      })\n    } catch {\n      alert('book deletion failed')\n    }\n  }\n\n  onBookCheck = async (pos: number) => {\n    try {\n      const book = this.state.books[pos]\n      await patchBook(this.props.auth.getIdToken(), book.bookId, {\n        name: book.name,\n        author: book.author,\n        reviewUrl: book.reviewUrl,\n        done: !book.done\n      })\n      this.setState({\n        books: update(this.state.books, {\n          [pos]: { done: { $set: !book.done } }\n        })\n      })\n    } catch {\n      alert('book update failed')\n    }\n  }\n\n  async componentDidMount() {\n    try {\n      const books = await getBooks(this.props.auth.getIdToken())\n      this.setState({\n        books,\n        loadingbooks: false\n      })\n    } catch (e) {\n      alert(`Failed to fetch books: ${e.message}`)\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <Header as=\"h1\" style={{margin: \"50px 0\"}}>Your Favorite Books</Header>\n\n        {this.renderCreateBookInput()}\n\n        {this.renderBooks()}\n      </div>\n    )\n  }\n\n  renderCreateBookInput() {\n    return (\n      <Grid.Row>\n        <Grid.Column width={16}>\n          <Header as=\"h3\">Add New Favorite Book</Header>\n          <Input\n            style={{width: \"600px\"}}\n            fluid\n            placeholder=\"Book name\"\n            onChange={this.handleNameChange}\n          />\n          <Input\n            style={{width: \"600px\"}}\n            fluid\n            placeholder=\"Book author\"\n            onChange={this.handleAuthorChange}\n          />\n          <Input\n            action={{\n              color: 'teal',\n              labelPosition: 'left',\n              icon: 'add',\n              content: 'Save',\n              onClick: this.onBookCreate\n            }}\n            style={{width: \"600px\"}}\n            fluid\n            placeholder=\"Book review URL\"\n            onChange={this.handleReviewUrlChange}\n          />\n        </Grid.Column>\n        <Grid.Column width={16}>\n          <Divider />\n        </Grid.Column>\n      </Grid.Row>\n    )\n  }\n\n  renderBooks() {\n    if (this.state.loadingbooks) {\n      return this.renderLoading()\n    }\n\n    return this.renderBooksList()\n  }\n\n  renderLoading() {\n    return (\n      <Grid.Row>\n        <Loader indeterminate active inline=\"centered\">\n          Loading BOOKs\n        </Loader>\n      </Grid.Row>\n    )\n  }\n\n  renderBooksList() {\n    return (\n      <Grid padded>\n        <Header as=\"h3\" style={{margin: \"50px 0 30px 0\"}}>Favorite Books List</Header>\n        {this.state.books.map((book, pos) => {\n          return (\n            <Grid.Row key={book.bookId}>\n              <Grid.Column width={1} verticalAlign=\"middle\">\n                <Checkbox\n                  onChange={() => this.onBookCheck(pos)}\n                  checked={book.done}\n                />\n              </Grid.Column>\n              <Grid.Column width={3} verticalAlign=\"middle\">\n                {book.name}\n              </Grid.Column>\n              <Grid.Column width={3} verticalAlign=\"middle\">\n                {book.author}\n              </Grid.Column>\n              <Grid.Column width={4} verticalAlign=\"middle\">\n                {book.reviewUrl}\n              </Grid.Column>\n              <Grid.Column width={1} floated=\"right\">\n                <Button\n                  icon\n                  color=\"blue\"\n                  onClick={() => this.onEditButtonClick(book.bookId)}\n                >\n                  <Icon name=\"pencil\" />\n                </Button>\n              </Grid.Column>\n              <Grid.Column width={1} floated=\"right\">\n                <Button\n                  icon\n                  color=\"red\"\n                  onClick={() => this.onBookDelete(book.bookId)}\n                >\n                  <Icon name=\"delete\" />\n                </Button>\n              </Grid.Column>\n              {book.attachmentUrl && (\n                <Image src={book.attachmentUrl} size=\"small\" wrapped />\n              )}\n              <Grid.Column width={16}>\n                <Divider />\n              </Grid.Column>\n            </Grid.Row>\n          )\n        })}\n      </Grid>\n    )\n  }\n}\n","/Users/vasile.moca/Downloads/udacity/aws development/serverless-favorite-books/client/src/components/NotFound.tsx",[],"/Users/vasile.moca/Downloads/udacity/aws development/serverless-favorite-books/client/src/api/books-api.ts",[],["62","63"],{"ruleId":"64","severity":1,"message":"65","line":1,"column":8,"nodeType":"66","messageId":"67","endLine":1,"endColumn":13},{"ruleId":"68","replacedBy":"69"},{"ruleId":"70","replacedBy":"71"},{"ruleId":"68","replacedBy":"69"},{"ruleId":"70","replacedBy":"71"},{"ruleId":"64","severity":1,"message":"72","line":1,"column":8,"nodeType":"66","messageId":"67","endLine":1,"endColumn":18},{"ruleId":"73","severity":1,"message":"74","line":81,"column":60,"nodeType":"75","messageId":"76","endLine":81,"endColumn":62},{"ruleId":"68","replacedBy":"77"},{"ruleId":"70","replacedBy":"78"},"@typescript-eslint/no-unused-vars","'React' is defined but never used.","Identifier","unusedVar","no-native-reassign",["79"],"no-negated-in-lhs",["80"],"'dateFormat' is defined but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected",["79"],["80"],"no-global-assign","no-unsafe-negation"]